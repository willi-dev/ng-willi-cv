<h1 class="display-4 dashboard-title">Personal Details</h1>
<hr>

<div *ngIf="(personalDetails | async)?.length == 0">
	<form>
	  <div class="form-group">
	    <label for="personal-detail-place">Place of Birth</label>
	    <input type="text" [(ngModel)]="personalDetail.placeBirth" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-place" placeholder="Example: Padang">
	  </div>
	  <div class="form-group">
	    <label for="personal-detail-date">Date of Birth</label>
	    <input type="text" [(ngModel)]="personalDetail.dateOfBirth" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-date" placeholder="Example: 05 April 1989">
	  </div>
	  <div class="form-group">
	  	<label for="personal-detail-gender">Gender</label>
	  	<select class="form-control" id="personal-detail-gender" [(ngModel)]="personalDetail.gender" [ngModelOptions]="{standalone: true}">
			  <option value="male">Male</option>
			  <option value="female">Female</option>
			</select>
	  </div>
	  <div class="form-group">
	  	<label for="personal-detail-language">Language</label>
	  	<input type="text" [(ngModel)]="personalDetail.language" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-language" placeholder="Example: Bahasa, English">
	  </div>
	  <div class="form-group">
	  	<label for="personal-detail-language">Religion</label>
	  	<input type="text" [(ngModel)]="personalDetail.religion" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-religion" placeholder="Example: Islam">
	  </div>
	  <div class="form-group">
	  	<button class="btn btn-default" type="submit" (click)="createDetail()">
	  		Submit
	  	</button>
	  </div>
	</form>
</div>

<div *ngIf="(personalDetails | async)?.length > 0">
		<div *ngFor="let pd of personalDetails | async">
			<!-- form editor when edit value of personal detail -->
			<div *ngIf="formEdit">
				<h2 class="lead">Edit Personal Detail</h2>
				<form>
				  <div class="form-group">
				    <label for="personal-detail-place">Place of Birth </label>
				    <input type="text" [(ngModel)]="personalDetail.placeBirth" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-place" placeholder="Example: Padang">
				  </div>
				  <div class="form-group">
				    <label for="personal-detail-date">Date of Birth</label>
				    <input type="text" [(ngModel)]="personalDetail.dateOfBirth" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-date" placeholder="Example: 05 April 1989">
				  </div>
				  <div class="form-group">
				  	<label for="personal-detail-gender">Gender</label>
				  	<select class="form-control" id="personal-detail-gender" [(ngModel)]="personalDetail.gender" [ngModelOptions]="{standalone: true}">
						  <option value="male">Male</option>
						  <option value="female">Female</option>
						</select>
				  </div>
				  <div class="form-group">
				  	<label for="personal-detail-language">Language</label>
				  	<input type="text" [(ngModel)]="personalDetail.language" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-language" placeholder="Example: Bahasa, English">
				  </div>
				  <div class="form-group">
				  	<label for="personal-detail-language">Religion</label>
				  	<input type="text" [(ngModel)]="personalDetail.religion" [ngModelOptions]="{standalone: true}" class="form-control" id="personal-detail-religion" placeholder="Example: Islam">
				  </div>
				  <div class="form-group">
				  	<button class="btn btn-primary" type="submit" (click)="updateDetail(pd.$key, personalDetail)">
				  		Submit
				  	</button>
				  	<button class="btn btn-light" (click)="showFormEdit(!formEdit, pd)">
							Cancel
						</button>
				  </div>
				</form>
			</div>
			<!-- end form editor -->

			<div *ngIf="!formEdit">
				<div class="row personal-detail__row mt-md-5">
					<div class="col-md-6 personal-detail__col--left">
						<h3>Place of Birth</h3>
					</div>
					<div class="col-md-6 personal-detail__col--right">
						<h3 class="font-weight-light">{{pd.placeBirth}}</h3>
					</div>

					<div class="col-md-6 personal-detail__col--left">
						<h3>Date of Birth</h3>
					</div>
					<div class="col-md-6 personal-detail__col--right">
						<h3 class="font-weight-light">{{pd.dateOfBirth}}</h3>
					</div>

					<div class="col-md-6 personal-detail__col--left">
						<h3>Language</h3>
					</div>
					<div class="col-md-6 personal-detail__col--right">
						<h3 class="font-weight-light">{{pd.language}}</h3>
					</div>

					<div class="col-md-6 personal-detail__col--left">
						<h3>Religion</h3>
					</div>
					<div class="col-md-6 personal-detail__col--right">
						<h3 class="font-weight-light">{{pd.religion}}</h3>
					</div>
				</div>
				<div class="personal-detail__row-edit">
					<button class="btn btn-default" (click)="showFormEdit(!formEdit, pd)">
						Edit
					</button>	
				</div>
			</div>
		</div>
</div>